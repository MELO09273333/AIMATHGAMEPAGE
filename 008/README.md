# 納許棋 HEX - 現代化網頁遊戲

一個基於HTML5、CSS3和JavaScript開發的現代化納許棋（HEX）網頁遊戲，支援單人對戰AI和雙人對戰模式。

## 🎮 遊戲特色

### 核心功能
- **多種遊戲模式**：單人對戰AI、雙人對戰
- **四種AI難度**：簡單、中等、困難、魔王
- **可調整棋盤大小**：支援6x6到12x12棋盤
- **即時勝負判定**：自動檢測連線並高亮勝利路徑
- **悔棋功能**：支援多步悔棋
- **響應式設計**：適配各種螢幕尺寸

### 視覺設計
- **現代化UI**：淺色系設計，清爽美觀
- **六角格棋盤**：精確的平頂六角格密鋪
- **動態外框**：根據棋盤大小自動調整的平行四邊形外框
- **勝利動畫**：連線路徑黃色高亮顯示
- **流暢互動**：棋子永遠在最上層，視覺層級清晰

## 🎯 遊戲規則

### 基本規則
- **目標**：藍色玩家需從上邊連線到下邊，紫色玩家需從左邊連線到右邊
- **回合制**：雙方輪流在空格中放置棋子
- **連線判定**：使用深度優先搜尋(DFS)檢測連線
- **勝利條件**：率先完成對角線連線的一方獲勝

### 棋盤設計
- **六角格系統**：使用平頂六角格平行四邊形佈局
- **座標系統**：標準的矩形座標，支援六方向鄰居關係
- **外框設計**：上下邊為藍色，左右邊為紫色，線寬16-24px

## 🤖 AI策略分析

### AI架構概述
本遊戲實現了四種不同難度的AI，每種都有獨特的決策策略和3秒超時保護機制。

### 1. 簡單AI (Easy)
```javascript
策略：隨機落子
- 完全隨機選擇空格
- 無策略性思考
- 適合新手練習
```

### 2. 中等AI (Medium)
```javascript
策略：最短路徑啟發式
- 模擬每個可能的落子位置
- 計算自己和對手的最短連線距離
- 選擇對自己最有利的位置
- 使用BFS算法計算最短路徑
```

### 3. 困難AI (Hard)
```javascript
策略：主線橋點 + 毀橋策略
決策優先級：
1. 直接獲勝檢查
2. 必須防守檢查
3. 堵對方主線橋點（優先毀掉對手主線橋點）
4. 做己方橋點
5. 最短路徑啟發式
6. 隨機落子（備用）

橋點策略：
- 識別六角格橋型連接
- 優先破壞對手的橋點連接
- 建立自己的橋點優勢
```

### 4. 魔王AI (Boss)
```javascript
策略：理論必勝策略
決策優先級：
1. 直接獲勝檢查
2. 必須防守檢查
3. 中心開局策略（前2步）
4. 多重橋點策略
5. 堵對方橋點
6. 做己方橋點
7. 四角策略
8. 最短路徑啟發式
9. 隨機落子（備用）

特殊策略：
- 中心開局：搶佔棋盤中心位置
- 多重橋點：同時為多個對手棋子提供橋接
- 四角策略：優先佔領四個角落
```

### 超時保護機制
```javascript
所有AI都配備3秒超時保護：
- 超過3秒未決策時觸發備用策略
- 備用策略：在對方最後一顆棋子的斜上/斜下方空格中選擇
- 選擇標準：優先選擇周圍空格最多的位置
- 確保遊戲流暢進行，避免AI卡死
```

### 技術實現細節

#### 最短路徑算法 (BFS)
```javascript
function getShortestPathLength(board, player) {
    // 使用BFS計算從起點到終點的最短距離
    // 藍色：上到下，紫色：左到右
    // 返回連線所需的最少步數
}
```

#### 橋點檢測算法
```javascript
function isBridgeMove(i, j, player) {
    // 檢測(i,j)位置是否為player的橋點
    // 橋點定義：跳過一格連接兩個己方棋子
    // 八個橋型方向：[-2,-1], [-1,-2], [1,-2], [2,-1], [2,1], [1,2], [-1,2], [-2,1]
}
```

#### 勝利判定算法 (DFS)
```javascript
function checkWin(row, col, player) {
    // 使用DFS檢查從起點到終點是否存在連線
    // 藍色：檢查上邊到下邊的連線
    // 紫色：檢查左邊到右邊的連線
}
```

## 🛠️ 技術架構

### 前端技術
- **HTML5**：語義化標籤，SVG繪圖
- **CSS3**：Flexbox佈局，Grid系統，動畫效果
- **JavaScript ES6+**：模組化設計，類別繼承

### 核心類別
```javascript
class HexGame {
    // 主遊戲邏輯
    - 棋盤管理
    - 遊戲狀態控制
    - 事件處理
    - AI調度
}

class MCTSNode {
    // MCTS算法節點
    - 樹狀搜尋
    - UCT公式
    - 模擬對局
}
```

### 響應式設計
- **斷點設計**：1200px, 1000px, 800px
- **適配策略**：優先縮小間距，其次縮小字體
- **最少換行**：控制列智能換行策略

## 🚀 使用方式

### 快速開始
1. 下載所有文件到本地目錄
2. 用瀏覽器打開 `index.html`
3. 選擇遊戲模式和AI難度
4. 開始遊戲！

### 操作說明
- **下棋**：點擊空格放置棋子
- **悔棋**：點擊「悔棋」按鈕
- **重新開始**：點擊「重新開始」按鈕
- **調整大小**：使用「+」「-」按鈕調整棋盤大小

## 📱 瀏覽器支援

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## 📄 授權

本專案僅供學習和研究使用。

---

## P.S. 關於AI的說明

**重要聲明**：本遊戲中的AI策略僅為遊戲娛樂目的而設計，並非真正的AI技術。

### AI的局限性

1. **非真正AI**：這些策略都是基於預設規則和啟發式算法，而非機器學習或深度學習
2. **JavaScript限制**：瀏覽器環境的JavaScript無法實現複雜的AI算法
3. **策略簡化**：所有策略都是對HEX遊戲理論的簡化實現
4. **娛樂性質**：主要目的是提供有趣的遊戲體驗，而非展示AI技術

### 真正的HEX AI技術

在學術和競賽領域，真正的HEX AI通常使用：
- **蒙特卡洛樹搜尋 (MCTS)**：結合隨機模擬和樹狀搜尋
- **神經網路**：深度學習模型評估棋盤狀態
- **強化學習**：通過自我對弈提升策略
- **開局庫**：預計算的開局策略數據庫
- **終局求解器**：精確計算小棋盤的最優解

### 本遊戲的價值

儘管不是真正的AI，但本遊戲實現了：
- **完整的HEX遊戲邏輯**
- **多種策略的對比展示**
- **現代化的網頁開發技術**
- **良好的用戶體驗設計**
- **教育意義**：幫助理解HEX遊戲的基本策略

這是一個展示網頁開發技術和遊戲邏輯實現的優秀範例，適合學習前端開發和遊戲算法設計。

---

**開發者**：pcshmath W.Y.  
**技術**：HTML5 + CSS3 + JavaScript  
**版本**：2025 